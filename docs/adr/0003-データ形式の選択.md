# 0003. データ形式の選択

## Status

Accepted

## Context

現時点では、データは全件取得しても数 MB 程度に収まる見込み。
ストレージ効率と読み込み速度はなるべく高めておきたい。
SQL クエリを実行する必要がある。
R や Python のユーザーにデータベースについても知ってほしいという教育目的がある。

## Decision

Parquet 形式を選択する。R や Python からは DuckDB を使用して Parquet ファイルにアクセスする。

## Consequences

- **メリット**
  - 列指向フォーマットで効率的な圧縮
  - DuckDB との親和性が高い（DuckDB は Parquet ファイルを直接読み込める）
  - 高速な読み込みが可能
  - R や Python から DuckDB を使って SQL クエリでアクセスできる
  - ユーザーが SQL クライアントライブラリの使い方を学べる
- **デメリット**
  - R や Python からアクセスする場合は、duckdb パッケージが必要
  - DuckDB-WASM の場合は組み込み機能で直接読み込めるため、追加のライブラリは不要
